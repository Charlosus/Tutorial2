Delegowanie wydarzeÅ„
Rozprzestrzenianie siÄ™ zdarzeÅ„



Rozprzestrzenianie siÄ™ zdarzeÅ„ (event propagation) â€” to termin opisujÄ…cy cykl Å¼ycia 
zdarzenia, ktÃ³ry skÅ‚ada siÄ™ z trzech etapÃ³w:

Zanurzenie (capture phase)
Celowanie (target phase)
WypÅ‚ywanie (bubble phase)


W praktyce najczÄ™Å›ciej uÅ¼ywana jest tylko faza wypÅ‚ywania.




Przyjrzyjmy siÄ™ bliÅ¼ej tym etapom podczas wystÄ…pienia zdarzenia.

Faza zanurzania (capture phase) â€” zdarzenie rozpoczyna siÄ™ na window i "zanurza siÄ™" 
(przechodzi przez wszystkie elementy-rodzicÃ³w) do najgÅ‚Ä™bszego celowego elementu, na
 ktÃ³rym wystÄ…piÅ‚o zdarzenie. Na schemacie zdarzenie to klikniÄ™cie, a zanurzanie koÅ„czy 
 siÄ™ na elemencie <button>. Faza celowania (target phase) â€” zdarzenie dotarÅ‚o do celowego 
 elementu. W tej fazie zawarte sÄ… tylko informacje o tym, Å¼e na danym elemencie wystÄ…piÅ‚o 
 zdarzenie. Faza wypÅ‚ywania (bubble phase) â€” koÅ„cowa faza, w ktÃ³rej zdarzenie "wypÅ‚ywa" z 
 najgÅ‚Ä™bszego, celowego elementu, przez wszystkie elementy-rodzicÃ³w, aÅ¼ do window.


Rozprzestrzenianie siÄ™ zdarzeÅ„ czÄ™sto bÅ‚Ä™dnie jest uÅ¼ywane jako synonim dla fazy wypÅ‚ywania, 
ale jest to tylko czÄ™Å›Ä‡ caÅ‚ego procesu. Dlatego za kaÅ¼dym razem, gdy wystÄ™puje zdarzenie, 
nastÄ™puje jego rozprzestrzenianie siÄ™.

W jakiej kolejnoÅ›ci zachodzÄ… fazy podczas rozprzestrzeniania siÄ™ zdarzenia?

Celowanie > Zanurzanie > WypÅ‚ywanie
Zanurzanie > Celowanie > WypÅ‚ywanie
Rozprzestrzenianie > Celowanie > Zanurzanie
Result

To jest poprawna odpowiedÅº!

WypÅ‚ywanie zdarzeÅ„



Teraz skoncentrujemy siÄ™ na fazie wypÅ‚ywania zdarzeÅ„, poniewaÅ¼ czÄ™sto programista 
pracuje wÅ‚aÅ›nie z wypÅ‚ywaniem.



Podczas wystÄ™powania zdarzenia obsÅ‚ugiwane sÄ… najpierw na najbardziej zagnieÅ¼dÅ¼onym 
elemencie. NastÄ™pnie na jego rodzicu, potem wyÅ¼ej i tak dalej, w gÃ³rÄ™ Å‚aÅ„cucha 
zagnieÅ¼dÅ¼enia. Ten proces nazywa siÄ™ wypÅ‚ywaniem zdarzeÅ„ (event bubbling), 
poniewaÅ¼ zdarzenia "wypÅ‚ywajÄ…" od wewnÄ™trznego elementu do gÃ³ry przez wszystkich 
przodkÃ³w do okna (window), podobnie jak baÅ„ka powietrza w wodzie.



RozwaÅ¼my przykÅ‚ad: mamy trzy zagnieÅ¼dÅ¼one tagi <div> z obsÅ‚ugÄ… klikniÄ™Ä‡ na kaÅ¼dym z nich.



<div id="parent">
  Rodzic
  <div id="child">
    Dziecko
    <div id="descendant">Potomek</div>
  </div>
</div>




WypÅ‚ywanie zapewnia, Å¼e klikniÄ™cie na #descendant wywoÅ‚a obsÅ‚ugÄ™ klikniÄ™cia w 
nastÄ™pujÄ…cej kolejnoÅ›ci:



najpierw na samym #descendant,
nastÄ™pnie na elemencie #child,
dalej na elemencie #parent
i tak dalej, w gÃ³rÄ™ Å‚aÅ„cucha przodkÃ³w do window.


Zatem jeÅ›li w przykÅ‚adzie klikniesz na #descendant, to kolejno zostanÄ… wyÅ›wietlone
 komunikaty przez console.log dla descendant â†’ child â†’ parent.

Od ktÃ³rego elementu rozpoczyna siÄ™ wypÅ‚ywanie zdarzenia?

Od samego gÃ³rnego elementu w hierarchii
Od elementu, na ktÃ³rym wystÄ…piÅ‚o zdarzenie
Od najbliÅ¼szego przodka elementu, na ktÃ³rym zdarzyÅ‚o siÄ™ zdarzenie
Result

Zgadza siÄ™!

Celowy element



Bez wzglÄ™du na to, gdzie przechwyciliÅ›my zdarzenie podczas jego wypÅ‚ywania,
 zawsze moÅ¼na dowiedzieÄ‡ siÄ™, gdzie dokÅ‚adnie siÄ™ to staÅ‚o.

Element, na ktÃ³rym wystÄ…piÅ‚o zdarzenie, nazywany jest docelowym, lub ÅºrÃ³dÅ‚owym. 
Zawsze jest to najgÅ‚Ä™bszy element, od ktÃ³rego rozpoczyna siÄ™ wypÅ‚ywanie. Jest
 on dostÄ™pny jako event.target.



event.target â€” jest to odnoÅ›nik do docelowego elementu, na ktÃ³rym wystÄ…piÅ‚o zdarzenie,
 w trakcie wypÅ‚ywania jest on niezmienny.event.currentTarget â€” jest to odnoÅ›nik do
  bieÅ¼Ä…cego elementu, do ktÃ³rego jest przypisany bieÅ¼Ä…cy obsÅ‚ugujÄ…cy funkcjÄ™ zdarzenia,
   i do ktÃ³rego w wyniku wypÅ‚ywania dotarÅ‚o nasÅ‚uchiwane zdarzenie.


JeÅ›li nasÅ‚uchiwacz zdarzeÅ„ jest zarejestrowany na najwyÅ¼szym elemencie, bÄ™dzie on 
"Å‚apaÅ‚" wszystkie klikniÄ™cia, ktÃ³re wystÄ™pujÄ… na jego elementach podrzÄ™dnych, dziÄ™ki
 mechanizmowi wypÅ‚ywania zdarzeÅ„. W poniÅ¼szym przykÅ‚adzie dziaÅ‚a to w ten sposÃ³b:
  nasÅ‚uchiwacz jest zarejestrowany na elemencie "Parent". KlikniÄ™cia na "Descendant"
   lub "Child" bÄ™dÄ… wypÅ‚ywaÄ‡ do "Parent", gdzie zostanÄ… one obsÅ‚uÅ¼one przez ten 
   nasÅ‚uchiwacz. Dlatego waÅ¼ne jest zrozumienie rÃ³Å¼nicy miÄ™dzy elementem, na ktÃ³rym
    zdarzenie faktycznie wystÄ…piÅ‚o (event.target), a elementem, do ktÃ³rego zdarzenie
     wypÅ‚ynÄ™Å‚o, a nasÅ‚uchiwacz je przechwyciÅ‚ (event.currentTarget).


Co to jest celowy element?

Element, na ktÃ³rym wykonaÅ‚ siÄ™ obsÅ‚ugujÄ…cy zdarzenia
#Element, na ktÃ³rym wystÄ…piÅ‚o zdarzenie
Element, do ktÃ³rego zdarzenie wypÅ‚ynÄ™Å‚o
Result

Åšwietnie!

Zatrzymywanie propagacji



Zazwyczaj zdarzenie bÄ™dzie wypÅ‚ywaÄ‡ w gÃ³rÄ™ do elementu window, wywoÅ‚ujÄ…c wszystkie 
dostÄ™pne obsÅ‚ugiwacze na swojej drodze.



Ale czasami jeden element moÅ¼e mieÄ‡ kilka obsÅ‚ugiwaczy dla tego samego zdarzenia.



WyobraÅº sobie, Å¼e zdarzenie wystÄ…piÅ‚o na elemencie Descendant. Zdarzenie wypÅ‚ywa do
 Child i Parent. KaÅ¼dy poÅ›redni obsÅ‚ugiwacz moÅ¼e zatrzymaÄ‡ propagacjÄ™ tego zdarzenia
  za pomocÄ… metod obiektu zdarzenia (event):

event.stopPropagation()
event.stopImmediatePropagation()


Jaka jest rÃ³Å¼nica w uÅ¼yciu tych metod?



event.stopPropagation()

Zatrzymuje "propagacjÄ™" zdarzenia w drzewie DOM. Oznacza to, Å¼e Å¼aden element nadrzÄ™dny
 nie bÄ™dzie w stanie zÅ‚apaÄ‡ tego zdarzenia. Nie przeszkadza innym obsÅ‚ugiwaczom zdarzeÅ„
  w wykonywaniu siÄ™ na tym samym elemencie.


event.stopImmediatePropagation()

Zatrzymuje "propagacjÄ™" zdarzenia tak samo jak event.stopPropagation().
RÃ³wnieÅ¼ zatrzymuje wykonanie wszystkich innych obsÅ‚ugiwaczy zdarzeÅ„, ktÃ³re nasÅ‚uchujÄ…
 tego samego zdarzenia na danym elemencie, nawet jeÅ›li zostaÅ‚y zarejestrowane wczeÅ›niej.


Nie zatrzymuj propagacji, jeÅ›li nie jest to konieczne.
Zatrzymywanie propagacji tworzy swoje puÅ‚apki, ktÃ³re pÃ³Åºniej trzeba omijaÄ‡. 
Na przykÅ‚ad analityka internetowa wykorzystuje propagacjÄ™, aby Å›ledziÄ‡ dziaÅ‚ania
 uÅ¼ytkownika na stronie, wiÄ™c zatrzymanie propagacji zdarzeÅ„ uniemoÅ¼liwi zbieranie tych informacji.

Delegowanie zdarzeÅ„



Propagacja pozwala na zastosowanie jednej z najbardziej przydatnych technik -
 delegowania zdarzeÅ„.



WyobraÅº sobie, Å¼e masz grupÄ™ elementÃ³w, ktÃ³rych zdarzenia trzeba obsÅ‚ugiwaÄ‡ w
 taki sam sposÃ³b. Dodanie obsÅ‚ugiwacza do kaÅ¼dego z nich byÅ‚oby nieporÄ™czne.

Delegowanie zdarzeÅ„ (event delegation) polega na dodaniu jednego obsÅ‚ugiwacza do 
wspÃ³lnego przodka tych elementÃ³w.



RozwaÅ¼my delegowanie na przykÅ‚adzie:

tworzymy element <div>
dodajemy do niego dowolnÄ… liczbÄ™ przyciskÃ³w, na przykÅ‚ad, 100
rejestrujemy dla kaÅ¼dego przycisku nasÅ‚uchiwanie zdarzenia klikniÄ™cia z 
obsÅ‚ugiwaczem handleButtonClick







Problem polega na tym, Å¼e mamy 100 nasÅ‚uchiwaczy zdarzeÅ„. Wszystkie wskazujÄ… na ten
 sam obsÅ‚ugiwacz, ale mamy 100 nasÅ‚uchiwaczy.



DziÄ™ki temu, Å¼e zdarzenia siÄ™ propagujÄ…, moÅ¼emy je przechwyciÄ‡ na wspÃ³lnym przodku
 - elemencie <div>.








Teraz mamy tylko jeden obsÅ‚ugiwacz zdarzenia klikniÄ™cia z obsÅ‚ugÄ… handleButtonClick, 
i przeglÄ…darka nie musi przechowywaÄ‡ w pamiÄ™ci 100 rÃ³Å¼nych nasÅ‚uchiwaczy.



Delegowanie realizowane jest w trzech prostych krokach.


OkreÅ›l wspÃ³lnego przodka grupy elementÃ³w, dla ktÃ³rych chcesz Å›ledziÄ‡ zdarzenia.
Zarejestruj na elemencie-rodzicu obsÅ‚ugiwacz zdarzeÅ„, ktÃ³re chcesz przechwytywaÄ‡
 z grupy elementÃ³w. W obsÅ‚ugiwaczu uÅ¼yj event.target do wybrania docelowego
  elementu, na ktÃ³rym bezpoÅ›rednio wystÄ…piÅ‚o zdarzenie.


W kodzie bÄ™dzie to wyglÄ…daÄ‡ nastÄ™pujÄ…co:

const box = document.querySelector(".box");

box.addEventListener("click", function (event) {
	console.log(event.target); // Element, na ktÃ³rym wystÄ…piÅ‚o zdarzenie klikniÄ™cia
});




Takie podejÅ›cie uÅ‚atwia inicjalizacjÄ™ obsÅ‚ugiwaczy dla elementÃ³w o jednakowych
 wÅ‚aÅ›ciwoÅ›ciach. MoÅ¼na dodawaÄ‡, usuwaÄ‡ lub zmieniaÄ‡ elementy, nie trzeba rÄ™cznie
  dodawaÄ‡ ani usuwaÄ‡ obsÅ‚ugiwaczy zdarzeÅ„ dla kaÅ¼dego z nich.

W czym polega koncepcja delegowania zdarzeÅ„?

Dodawanie osobnego obsÅ‚ugiwacza zdarzeÅ„ do kaÅ¼dego elementu z grupy
#Dodawanie jednego wspÃ³lnego obsÅ‚ugiwacza zdarzeÅ„ dla grupy elementÃ³w
Result

Masz caÅ‚kowitÄ… racjÄ™!

Sprawdzenie docelowego elementu zdarzenia



Zadaniem jest stworzenie palety kolorÃ³w. Paleta pozwala na wybÃ³r koloru za pomocÄ… 
klikniÄ™cia i wyÅ›wietla wybrany kolor.






<p class="output">Wybrany kolor: -</p>
<div class="color-palette"></div>



KaÅ¼de klikniÄ™cie na elemencie palety jest zdarzeniem, ktÃ³re zmienia kolor i 
zawartoÅ›Ä‡ nagÅ‚Ã³wka. Jest wiele elementÃ³w. Zamiast przypisywania obsÅ‚ugiwacza
 do kaÅ¼dego elementu palety, zawieÅ›my jednego sÅ‚uchacza na wspÃ³lnym przodku 
 div.color-palette.



const colorPalette = document.querySelector(".color-palette");

colorPalette.addEventListener("click", selectColor);

function selectColor(event) {
  console.log(event.target);
  const selectedColor = event.target.dataset.color;
}



W obsÅ‚udze zdarzenia klikniÄ™cia uÅ¼ywamy event.target, aby uzyskaÄ‡ element, 
na ktÃ³rym bezpoÅ›rednio wystÄ…piÅ‚o zdarzenie, i powiÄ…zany z nim kolor. Informacje
 o kolorze bÄ™dziemy przechowywaÄ‡ w atrybucie data-color.



Koniecznie sprawdzamy docelowy element zdarzenia klikniÄ™cia.



Musimy siÄ™ upewniÄ‡, Å¼e jest to dokÅ‚adnie przycisk, w przeciwnym razie moÅ¼emy
 przypadkowo obsÅ‚uÅ¼yÄ‡ klikniÄ™cie, gdy uÅ¼ytkownik kliknie miÄ™dzy przyciskami,
  co moÅ¼e spowodowaÄ‡ bÅ‚Ä…d.



Do sprawdzenia typu elementu uÅ¼ywamy wÅ‚aÅ›ciwoÅ›ci nodeName.



function selectColor(event) {
  if (event.target.nodeName !== "BUTTON") {
    return; // uÅ¼ytkownik kliknÄ…Å‚ miÄ™dzy przyciskami
  }

  const selectedColor = event.target.dataset.color; // uÅ¼ytkownik kliknÄ…Å‚ przycisk,
   wiÄ™c mamy dostÄ™p do jego atrybutÃ³w
}

Po co sprawdzaÄ‡ docelowy element zdarzenia podczas delegacji?

#Aby wykluczyÄ‡ obsÅ‚ugÄ™ zdarzeÅ„ dla niepotrzebnych typÃ³w elementÃ³w
Taka weryfikacja nie jest potrzebna
Result

Åšwietnie!

Biblioteki
Biblioteki



Biblioteki to zestaw wczeÅ›niej napisanych funkcji, metod i klas, ktÃ³re dostarczajÄ… 
programistom gotowe narzÄ™dzia do rozwiÄ…zywania okreÅ›lonych zadaÅ„. Biblioteki sÄ…
 tworzone w celu uÅ‚atwienia procesu programowania, poniewaÅ¼ umoÅ¼liwiajÄ… korzystanie 
 z gotowych rozwiÄ…zaÅ„ niezbÄ™dnych do wielu zadaÅ„, bez koniecznoÅ›ci pisania kodu od podstaw.



GÅ‚Ã³wne cechy bibliotek:

Wielokrotne uÅ¼ytkowanie: Biblioteki sÄ… tworzone w celu wielokrotnego uÅ¼ytkowania. 
ProgramiÅ›ci mogÄ… integrowaÄ‡ biblioteki w rÃ³Å¼nych projektach i korzystaÄ‡ z ich
 funkcjonalnoÅ›ci bez potrzeby pisania kodu od zera.
Gotowe rozwiÄ…zania: Biblioteki zawierajÄ… gotowy kod, ktÃ³ry moÅ¼na wykorzystaÄ‡ do 
rozwiÄ…zywania powszechnych zadaÅ„. Na przykÅ‚ad, biblioteki mogÄ… zawieraÄ‡ funkcje 
do pracy z datami, przetwarzania ciÄ…gÃ³w znakÃ³w, animacji i wiele innych.
Przyspieszenie procesu programowania: Korzystanie z bibliotek pozwala skrÃ³ciÄ‡ czas 
programowania, poniewaÅ¼ programista nie musi tworzyÄ‡ i dostosowywaÄ‡ funkcji lub 
komponentÃ³w od zera. MogÄ… one uÅ¼ywaÄ‡ gotowych i sprawdzonych rozwiÄ…zaÅ„.
SpoÅ‚ecznoÅ›Ä‡ i wsparcie: Dobre biblioteki czÄ™sto sÄ… aktywnie wspierane przez spoÅ‚ecznoÅ›Ä‡ 
programistÃ³w, ktÃ³rzy wprowadzajÄ… ulepszenia, naprawiajÄ… bÅ‚Ä™dy i zapewniajÄ… kompatybilnoÅ›Ä‡ wstecznÄ….


PrzykÅ‚ady popularnych bibliotek w jÄ™zyku JavaScript:

Chart.js: Biblioteka do tworzenia interaktywnych wykresÃ³w i diagramÃ³w.
Lodash: Biblioteka do pracy z tablicami, obiektami, Å‚aÅ„cuchami znakÃ³w itp., 
ktÃ³ra dostarcza wiele przydatnych funkcji.


WaÅ¼ne jest wybieranie bibliotek, ktÃ³re najlepiej pasujÄ… do twojego projektu, oraz
 Å›ledzenie ich aktualizacji, aby korzystaÄ‡ z najnowszych ulepszeÅ„ i poprawek bÅ‚Ä™dÃ³w.

Co to jest biblioteka?

Kod, ktÃ³ry musisz napisaÄ‡, aby pÃ³Åºniej uÅ¼ywaÄ‡ go w projekcie
XZbiÃ³r uprzednio napisanego kodu gotowego do uÅ¼ycia w projekcie
Dowolny skrypt projektu
Result

Åšwietnie!

CDN



CDN (Content Delivery Network) to geograficznie rozproszona infrastruktura sieciowa.
 Zapewnia szybkÄ… dostawÄ™ treÅ›ci (takich jak style, skrypty, obrazy i inne zasoby) 
 uÅ¼ytkownikom serwisÃ³w internetowych i stron internetowych. Serwery naleÅ¼Ä…ce do CDN 
 sÄ… rozmieszczone geograficznie w rÃ³Å¼nych czÄ™Å›ciach Å›wiata, aby minimalizowaÄ‡ czas
  odpowiedzi dla uÅ¼ytkownikÃ³w witryny/serwisu.








GÅ‚Ã³wnym celem CDN jest poprawa wydajnoÅ›ci i dostÄ™pnoÅ›ci witryny dla uÅ¼ytkownikÃ³w
 poprzez zmniejszenie opÃ³ÅºnieÅ„ w Å‚adowaniu treÅ›ci.

Jest to osiÄ…gane poprzez przechowywanie kopii treÅ›ci na serwerach CDN, ktÃ³re 
sÄ… fizycznie bliÅ¼ej uÅ¼ytkownikÃ³w. Podczas Å¼Ä…dania treÅ›ci przeglÄ…darka uÅ¼ytkownika
 automatycznie odwoÅ‚uje siÄ™ do najbliÅ¼szego serwera CDN, co przyspiesza Å‚adowanie.



KorzyÅ›ci pÅ‚ynÄ…ce z korzystania z CDN:

Szybkie Å‚adowanie treÅ›ci: TreÅ›Ä‡ jest Å‚adowana z serwera, ktÃ³ry jest fizycznie
 blisko uÅ¼ytkownika, co skraca czas Å‚adowania.
RozÅ‚oÅ¼one obciÄ…Å¼enie: Serwery CDN sÄ… rozmieszczone na caÅ‚ym Å›wiecie, co
 umoÅ¼liwia rÃ³wnomierne rozÅ‚oÅ¼enie obciÄ…Å¼enia i zmniejsza ryzyko przeciÄ…Å¼eÅ„.
Poprawiona dostÄ™pnoÅ›Ä‡: JeÅ›li jeden serwer jest niedostÄ™pny, przeglÄ…darka
 uÅ¼ytkownika moÅ¼e skorzystaÄ‡ z innego serwera CDN, zapewniajÄ…c dostÄ™pnoÅ›Ä‡ treÅ›ci.
Zmniejszenie obciÄ…Å¼enia na serwerze ÅºrÃ³dÅ‚owym: Kopie treÅ›ci sÄ… przechowywane
 na serwerach CDN, co zmniejsza obciÄ…Å¼enie na serwerze ÅºrÃ³dÅ‚owym, szczegÃ³lnie
  przy wysokiej liczbie odwiedzin.

Wybierz korzyÅ›ci wynikajÄ…ce z uÅ¼ycia CDN (2 poprawne odpowiedzi)

#SzybkoÅ›Ä‡ Å‚adowania treÅ›ci dla uÅ¼ytkownika
ZwiÄ™kszone bezpieczeÅ„stwo wykonania kodu
#Zmniejszenie obciÄ…Å¼enia serwera, z ktÃ³rego pobierana jest treÅ›Ä‡
SzybkoÅ›Ä‡ dziaÅ‚ania kodu w przeglÄ…darce
Result

Åšwietnie!

PodÅ‚Ä…czanie biblioteki



Aby mÃ³c korzystaÄ‡ z biblioteki w projekcie, musisz jÄ… podÅ‚Ä…czyÄ‡, czyli dodaÄ‡ 
pliki biblioteki do projektu.



Na przykÅ‚adzie podÅ‚Ä…czymy do projektu bibliotekÄ™ Lodash za pomocÄ… CDN. PodÅ‚Ä…czenie
 biblioteki JavaScript za pomocÄ… CDN skÅ‚ada siÄ™ z kilku krokÃ³w.



Krok 1. Najpierw odwiedÅº stronÄ™ usÅ‚ugi CDN na https://www.jsdelivr.com/ i
 znajdÅº potrzebnÄ… bibliotekÄ™ po jej nazwie.



Krok 2. Z listy wynikÃ³w wybierz potrzebnÄ… bibliotekÄ™, klikajÄ…c na jej nazwÄ™.
 Po przejÅ›ciu pod link, znajdziesz siÄ™ na stronie z informacjami o bibliotece.











Krok 3. Skopiuj kod HTML tagu script, a nastÄ™pnie otwÃ³rz swÃ³j plik HTML i dodaj
 odnoÅ›nik do skryptu biblioteki na koÅ„cu dokumentu HTML, jak pokazano na przykÅ‚adzie.



<!DOCTYPE html>
<html lang="en">
  <head>
	 <!-- tagi nagÅ‚Ã³wka -->
  </head>
  <body>
    <!-- znaczniki HTML -->

    <!-- Plik skryptu biblioteki Lodash -->
		<script async src="<https://cdn.jsdelivr.net/npm/lodash@4.17.21/lodash.min.js>"></script>
    <!-- TwÃ³j plik skryptu -->
    <script defer src="path/to/script.js"></script>
  </body>
</html>



PodÅ‚Ä…czenie skryptu biblioteki powinno byÄ‡ przed podÅ‚Ä…czeniem twojego gÅ‚Ã³wnego 
pliku skryptÃ³w. Nie zapomnij dodaÄ‡ atrybutu async do tagu script biblioteki.
 Jest to konieczne, aby plik biblioteki Å‚adowaÅ‚ siÄ™ moÅ¼liwie szybko.


Teraz moÅ¼esz uzyskaÄ‡ dostÄ™p do biblioteki w swoim skrypcie.

Podczas podÅ‚Ä…czania bibliotek za pomocÄ… CDN, do obiektu window dodawana jest 
wÅ‚aÅ›ciwoÅ›Ä‡, w ktÃ³rej przechowywane sÄ… dane udostÄ™pniane przez bibliotekÄ™. 
Nazwa tej wÅ‚aÅ›ciwoÅ›ci jest unikalna dla biblioteki i opisana w jej dokumentacji.

Dla Lodash jest to znak podkreÅ›lenia _.



console.log(_); // CaÅ‚y obiekt biblioteki Lodash


Do sprawdzenia uÅ¼ywaj metod:

[sum](<https://lodash.com/docs/4.17.15#sum>), â€” oblicza sumÄ™ wartoÅ›ci w tablicy
`shuffle`` â€” tworzy tablicÄ™ przetasowanych wartoÅ›ci
console.log(_.sum([4, 2, 8, 6])); // 20
console.log(_.sum([5, 10])); // 15

console.log(_.shuffle([1, 2, 3, 4])); // [4, 1, 3, 2]
console.log(_.shuffle([1, 2, 3, 4])); // [3, 2, 1, 4]



Uwaga! SposÃ³b podÅ‚Ä…czania i korzystania z bibliotek moÅ¼e siÄ™ rÃ³Å¼niÄ‡ w zaleÅ¼noÅ›ci
 od konkretnej biblioteki. Wszystkie wspÃ³Å‚czesne biblioteki dostarczajÄ… dokumentacji 
 i przykÅ‚adÃ³w uÅ¼ycia na swoich oficjalnych stronach internetowych, co moÅ¼e pomÃ³c w 
 lepszym zrozumieniu ich funkcjonalnoÅ›ci.

Jak czytaÄ‡ dokumentacjÄ™ biblioteki



WyobraÅº sobie, Å¼e jesteÅ› programistÄ…, ktÃ³ry tworzy stronÄ™ do wyszukiwania obrazÃ³w. 
Potrzebujesz, aby po klikniÄ™ciu na maÅ‚y obrazek otwieraÅ‚o siÄ™ okno modalne z tym 
obrazkiem w duÅ¼ym rozmiarze i lepszej jakoÅ›ci. OczywiÅ›cie, moÅ¼esz napisaÄ‡ tÄ™ logikÄ™ 
samodzielnie, ale moÅ¼esz zaoszczÄ™dziÄ‡ swÃ³j czas, podÅ‚Ä…czajÄ…c ten funkcjonalnoÅ›Ä‡ z 
biblioteki.



PrzykÅ‚adem takiej biblioteki moÅ¼e byÄ‡ "basicLightbox".



Po pierwsze, powinieneÅ› zapoznaÄ‡ siÄ™ z dokumentacjÄ…, ktÃ³rÄ… moÅ¼na znaleÅºÄ‡:

na oficjalnej stronie tej biblioteki (https://basiclightbox.electerious.com/)
lub

w repozytorium na GitHubie (https://github.com/electerious/basicLightbox)


ZauwaÅ¼, Å¼e projektowanie, struktura i interfejs wszystkich bibliotek zawsze bÄ™dÄ… rÃ³Å¼ne, 
ale zawsze bÄ™dÄ…:
instrukcje dotyczÄ…ce instalacji i podÅ‚Ä…czenia do projektu;
przykÅ‚ady uÅ¼ycia;
cechy i moÅ¼liwoÅ›ci konfiguracji.


Instalacja i podÅ‚Ä…czenie biblioteki

W wiÄ™kszoÅ›ci oficjalnych dokumentacji bibliotek instrukcje dotyczÄ…ce instalacji i 
podÅ‚Ä…czenia do projektu najczÄ™Å›ciej znajdujÄ… siÄ™ w sekcjach o nazwach "Rozpocznij",
 "Szybki start", "Instalacja", "Konfiguracja" lub podobnych. To staÅ‚a praktyka, ktÃ³ra 
 pozwala programistom szybko znaleÅºÄ‡ potrzebne informacje.

Na przykÅ‚ad, w basicLightbox ta sekcja nosi nazwÄ™ Instalacja. Opisuje, jak zainstalowaÄ‡
 basicLightbox za pomocÄ… menedÅ¼erÃ³w pakietÃ³w (czego nauczysz siÄ™ pÃ³Åºniej).






JeÅ›li chcesz podÅ‚Ä…czyÄ‡ bibliotekÄ™ za pomocÄ… CDN, znajdujÄ…c tÄ™ bibliotekÄ™ na serwisie 
CDN jsdelivr, otrzymasz gotowe tagi do podÅ‚Ä…czenia skryptÃ³w i styli, ktÃ³re naleÅ¼y po
 prostu dodaÄ‡ do swojego HTML-a.








Ale czasami podany jest tylko Å›cieÅ¼ka do pliku, a gotowy tag moÅ¼na skopiowaÄ‡, klikajÄ…c 
odpowiedni przycisk obok Å›cieÅ¼ki.






UÅ¼ycie



Po podÅ‚Ä…czeniu biblioteki waÅ¼ne jest zrozumienie, jak jej uÅ¼ywaÄ‡. WiÄ™kszoÅ›Ä‡ dokumentacji
 dostarcza rÃ³Å¼norodne przykÅ‚ady uÅ¼ycia, ktÃ³re moÅ¼na dostosowaÄ‡ do swoich potrzeb. CzÄ™sto
  sÄ… one przedstawione w sekcjach "UÅ¼ycie", "PrzykÅ‚ady", "API" lub "Demo".



W oficjalnej dokumentacji basicLightbox i na GitHubie w sekcji API znajdziesz rÃ³Å¼norodne
 przykÅ‚ady uÅ¼ycia, ktÃ³re pomogÄ… ci zrozumieÄ‡, jak dziaÅ‚a biblioteka. PrzykÅ‚ady czÄ™sto
  pokazujÄ…, jak korzystaÄ‡ z podstawowych funkcji i moÅ¼liwoÅ›ci biblioteki. Ale nie ograniczaj
   siÄ™ tylko do przykÅ‚adÃ³w z dokumentacji. SprÃ³buj Å‚Ä…czyÄ‡ rÃ³Å¼ne funkcje, dostosowujÄ…c
    je do wÅ‚asnych potrzeb i zadaÅ„ swojego projektu.






Na przykÅ‚ad, metoda create() stworzy nowÄ… instancjÄ™ basicLightbox. Oczekuje 2 parametrÃ³w:

zawartoÅ›Ä‡ okna modalnego (obowiÄ…zkowy parametr, typu element DOM lub string {Node|String})
obiekt opcji (opcjonalny parametr, typu obiekt {?Object})


Wynikiem wywoÅ‚ania metody create() bÄ™dzie obiekt instancji basicLightbox, ktÃ³ry naleÅ¼y 
zapisaÄ‡ w zmiennej, na przykÅ‚ad instance.



const instance = basicLightbox.create(`
	<h1>Nie moÅ¼na zamknÄ…Ä‡</h1>
	<p>Nie moÅ¼na zamknÄ…Ä‡ tego okna modalnego klikniÄ™ciem.</p>
`, {
	closable: false
})



ZauwaÅ¼, Å¼e w instancji instance w dokumentacji istnieje rÃ³wnieÅ¼ oddzielny dziaÅ‚ Instance
 API, ktÃ³ry opisuje dostÄ™pne metody.








Na przykÅ‚ad, wywoÅ‚anie metody instance.show() pokaÅ¼e okno modalne, a instance.close() 
- przeciwnie, ukryje je.



Funkcje specjalne i dodatkowe opcje



Bardzo waÅ¼nÄ… sekcjÄ… w dokumentacji kaÅ¼dej biblioteki jest sekcja opisujÄ…ca jej funkcje 
specjalne i dodatkowe opcje konfiguracyjne. Ta sekcja moÅ¼e mieÄ‡ rÃ³Å¼ne nazwy w rÃ³Å¼nych
 dokumentacjach, ale najczÄ™Å›ciej nosi nazwÄ™ "Opcje", "Zaawansowane ustawienia", 
 "Opcje konfiguracji", "Zaawansowane uÅ¼ycie" lub "Zaawansowana konfiguracja" itp.



W bibliotece basicLightbox w sekcji Opcje znajduje siÄ™ opis obiektu opcji, ktÃ³ry moÅ¼na 
przekazaÄ‡ podczas tworzenia instancji do metody create().






Na przykÅ‚ad, opcja className pozwala dodawaÄ‡ dodatkowe klasy do gÅ‚Ã³wnego kontenera okna
 modalnego. MoÅ¼e to byÄ‡ przydatne do stylizacji okna modalnego zgodnie z twoim projektem,
  bez koniecznoÅ›ci zmiany podstawowych stylÃ³w biblioteki.



Opcja onShow sÅ‚uÅ¼y do wywoÅ‚ania funkcji, gdy okno modalne zostanie otwarte. MoÅ¼e to byÄ‡ 
przydatne, jeÅ›li musisz wykonaÄ‡ okreÅ›lone czynnoÅ›ci (na przykÅ‚ad dodaÄ‡ nasÅ‚uchiwacz) podczas otwierania okna modalnego.



Po zapoznaniu siÄ™ z dokumentacjÄ… Å‚atwiej bÄ™dzie orientowaÄ‡ siÄ™ w przykÅ‚adach dostarczanych
 przez programistÄ™ tej biblioteki.



A teraz sprÃ³buj powtÃ³rzyÄ‡ kod w przykÅ‚adach, dodajÄ…c do niego funkcje, ktÃ³re sÄ… potrzebne 
dla twojego zadania.

<script id="destructurization"></script>
Destrukturyzacja
Po co jest destrukturyzacja?



Destrukturyzacja (Destructuring) to specjalny skÅ‚adniowy sposÃ³b pozwalajÄ…cy wydobyÄ‡ wartoÅ›ci z struktur danych, takich jak obiekty lub tablice, i przypisaÄ‡ je do zmiennych. Jest to wygodny sposÃ³b na uzyskanie potrzebnych danych zÅ‚oÅ¼onych struktur i ich uÅ¼ycie w kodzie.



Bez destrukturyzacji praca z wÅ‚aÅ›ciwoÅ›ciami obiektu wyglÄ…da nastÄ™pujÄ…co:

const user = {
	name: "Jacob",
	age: 32
};

console.log(user.name); // Jacob
console.log(user.age); // 32



Z destrukturyzacjÄ… praca z wÅ‚aÅ›ciwoÅ›ciami obiektu wyglÄ…da nastÄ™pujÄ…co:



const user = { 
	name: "Jacob", 
	age: 32 
};

const { name, age } = user;
console.log(name); // Jacob
console.log(age); // 32

Destrukturyzacja obiektÃ³w



ZÅ‚oÅ¼one dane zawsze sÄ… reprezentowane jako obiekty. Wielokrotne odwoÅ‚ania do wÅ‚aÅ›ciwoÅ›ci
 obiektu sprawiajÄ…, Å¼e kod staje siÄ™ mniej czytelny.



const book = {
  title: "Ostatnie krÃ³lestwo",
  author: "Bernard Cornwell",
  genres: ["proza historyczna", "przygodowa"],
  isPublic: true,
  rating: 8.38,
};

const accessType = book.isPublic ? "publiczny" : "prywatny";
const message = `KsiÄ…Å¼ka ${book.title} autorstwa ${book.author} o ocenie ${book.rating} 
jest dostÄ™pna ${accessType}!`;



Destrukturyzacja pozwala "rozpakowaÄ‡" wartoÅ›ci wÅ‚aÅ›ciwoÅ›ci obiektu do lokalnych zmiennych.
 Sprawia to, Å¼e kod jest mniej "gÅ‚oÅ›ny" w miejscu ich uÅ¼ycia.



const book = {
  title: "Ostatnie krÃ³lestwo",
  author: "Bernard Cornwell",
  genres: ["proza historyczna", "przygodowa"],
  isPublic: true,
  rating: 8.38,
};

// Destrukturyzacja
const { title, author, isPublic, rating } = book;

// UÅ¼ycie
const accessType = isPublic ? "publiczny" : "prywatny";
const message = `KsiÄ…Å¼ka ${title} autorstwa ${author} o ocenie ${rating} jest dostÄ™pna 
${accessType}!`;



Po sÅ‚owie kluczowym const lub let umieszczamy nawiasy klamrowe, podobnie jak w przypadku
 deklaracji obiektu.



WewnÄ…trz nawiasÃ³w klamrowych, oddzielajÄ…c przecinkami, podajemy nazwy zmiennych, ktÃ³rym 
zostanÄ… przypisane odpowiednie wartoÅ›ci wÅ‚aÅ›ciwoÅ›ci zdestrukturyzowanego obiektu.



Destrukturyzacja zawsze znajduje siÄ™ po lewej stronie operacji przypisania.
Zmiennym wewnÄ…trz nawiasÃ³w klamrowych przypisywane sÄ… wartoÅ›ci o tej samej nazwie 
wÅ‚aÅ›ciwoÅ›ci obiektu.
KolejnoÅ›Ä‡ deklaracji zmiennych w nawiasach klamrowych nie ma znaczenia.

Wybierz poprawnÄ… skÅ‚adniÄ™ destrukturyzacji obiektu w zmiennej profile:

const profile { }
const profile = { }
=== const { } = profile ===
const () = profile
Result

Zgadza siÄ™!

Destrukturyzacja nieistniejÄ…cych wÅ‚aÅ›ciwoÅ›ci



W przypadku, gdy nazwa zmiennej jest taka sama jak nazwa wÅ‚aÅ›ciwoÅ›ci, dochodzi do przypisania.



Ale co w innym przypadku?



Kiedy w obiekcie nie ma wÅ‚aÅ›ciwoÅ›ci o takiej nazwie, zmiennej zostanie przypisane undefined.



const book = {
  title: "Ostatnie krÃ³lestwo",
  author: "Bernard Cornwell",
  genres: ["proza historyczna", "przygodowa"],
  isPublic: true,
  rating: 8.38,
};

// Destrukturyzacja
const { title, bookTitle, coverImage, bookRating } = book;
console.log(title); // "Ostatnie krÃ³lestwo"
console.log(bookTitle); // undefined
console.log(coverImage); // undefined
console.log(bookRating); // undefined



Aby uniknÄ…Ä‡ przypisania undefined podczas destrukturyzacji nieistniejÄ…cych 
wÅ‚aÅ›ciwoÅ›ci, moÅ¼na przypisaÄ‡ zmiennym wartoÅ›ci domyÅ›lne za pomocÄ… operatora =. 
Ta wartoÅ›Ä‡ zostanie przypisana tylko wtedy, gdy w obiekcie brakuje wÅ‚aÅ›ciwoÅ›ci 
o takiej nazwie.



const book = {
  title: "Ostatnie krÃ³lestwo",
  author: "Bernard Cornwell",
};

// Dodajemy obraz okÅ‚adki, jeÅ›li brakuje go w obiekcie ksiÄ…Å¼ki
const {
  title,
  author,
  coverImage = "<https://via.placeholder.com/640/480>"
} = book;

console.log(title); // "Ostatnie krÃ³lestwo"
console.log(author); // "Bernard Cornwell"
console.log(coverImage); // "<https://via.placeholder.com/640/480>"


JakÄ… wartoÅ›Ä‡ przyjmie zmienna podczas destrukturyzacji, ktÃ³rej nazwa nie odpowiada 
Å¼adnej wÅ‚aÅ›ciwoÅ›ci obiektu?

BÅ‚Ä…d
null
===undefined===
false
Result

Åšwietnie!

Wybierz poprawny skÅ‚adniowo sposÃ³b przypisania wartoÅ›ci domyÅ›lnej podczas 
destrukturyzacji wÅ‚aÅ›ciwoÅ›ci username z obiektu profile

const { "Guest" = username } = profile
const { username = "Guest" } = profile
const { username: "Guest" } = profile
const { username - "Guest" } = profile
Result

Åšwietnie!

Przemianowanie zmiennej



Podczas destrukturyzacji moÅ¼emy przemianowaÄ‡ zmiennÄ…, do ktÃ³rej rozpakowujemy 
wartoÅ›Ä‡ wÅ‚aÅ›ciwoÅ›ci, uÅ¼ywajÄ…c :



const book = {
  title: "The Last Kingdom",
  author: "Bernard Cornwell",
  genres: ["historical prose", "adventure"],
  isPublic: true,
  rating: 8.38,
};

// Destrukturyzacja
const { title, author: bookAuthor, isPublic, rating: bookRating } = book;
console.log(title); // "The Last Kingdom"
console.log(bookAuthor); // "Bernard Cornwell"
console.log(isPublic); // true
console.log(bookRating); // 8.38



Aby to zrobiÄ‡:

nazwÄ™ wÅ‚aÅ›ciwoÅ›ci, z ktÃ³rej chcemy otrzymaÄ‡ wartoÅ›Ä‡
dodajemy dwukropek :
wpisujemy nazwÄ™ zmiennej, do ktÃ³rej chcemy umieÅ›ciÄ‡ wartoÅ›Ä‡ tej wÅ‚aÅ›ciwoÅ›ci.

Wybierz poprawnÄ… skÅ‚adniÄ™ przemianowania zmiennej podczas destrukturyzacji 
wÅ‚aÅ›ciwoÅ›ci username z obiektu profile

===const { coolName: username } = profile===
const { username = coolName } = profile
const { username: coolName } = profile
const { username - coolName } = profile
Result

Niestety nie.

WartoÅ›Ä‡ domyÅ›lna



Podczas przemianowywania zmiennej, do ktÃ³rej rozpakowujemy wartoÅ›Ä‡ wÅ‚aÅ›ciwoÅ›ci 
obiektu, moÅ¼emy rÃ³wnieÅ¼ przypisaÄ‡ wartoÅ›Ä‡ domyÅ›lnÄ….

Aby to zrobiÄ‡, po nowej nazwie umieszczamy znak rÃ³wnoÅ›ci = i okreÅ›lamy jej wartoÅ›Ä‡ domyÅ›lnÄ….



const book = {
  title: "The Last Kingdom",
  coverImage:
    "<https://images-na.ssl-images-amazon.com/images/I/51b5YG6Y1rL.jpg>",
};

const {
  title,
  coverImage: bookCoverImage = "<https://via.placeholder.com/640/480>",
} = book;

console.log(title); // "The Last Kingdom"
console.log(bookCoverImage); // "<https://images-na.ssl-images-amazon.com/images/I/51b5YG6Y1rL.jpg>"



JeÅ›li taka wÅ‚aÅ›ciwoÅ›Ä‡ istnieje w obiekcie, zostanie do niej przypisana wartoÅ›Ä‡ zmiennej.



W przeciwnym razie zmiennej zostanie przypisana wartoÅ›Ä‡ domyÅ›lna.



const book = {
  title: "The Dream of a Ridiculous Man",
};

const {
  title,
  coverImage: bookCoverImage = "<https://via.placeholder.com/640/480>",
} = book;

console.log(title); // "The Dream of a Ridiculous Man"
console.log(bookCoverImage); // "<https://via.placeholder.com/640/480>"


Destrukturyzacja w pÄ™tlach



Podczas iteracji po tablicy obiektÃ³w za pomocÄ… pÄ™tli for...of wielokrotnie
 odwoÅ‚ujemy siÄ™ do wÅ‚aÅ›ciwoÅ›ci obiektu.



const books = [
  {
    title: "The Last Kingdom",
    author: "Bernard Cornwell",
    rating: 8.38,
  },
  {
    title: "Beside Still Waters",
    author: "Robert Sheckley",
    rating: 8.51,
  },
];

for (const book of books) {
  console.log(book.title);
  console.log(book.author);
  console.log(book.rating);
}



Aby zmniejszyÄ‡ liczbÄ™ powtÃ³rzeÅ„, moÅ¼na zdestrukturyzowaÄ‡ wÅ‚aÅ›ciwoÅ›ci obiektu
 do lokalnych zmiennych w ciele pÄ™tli.



for (const book of books) {
  const { title, author, rating } = book;

  console.log(title);
  console.log(author);
  console.log(rating);
}



JeÅ›li obiekt zawiera niewiele wÅ‚aÅ›ciwoÅ›ci, destrukturyzacjÄ™ moÅ¼na wykonaÄ‡
 bezpoÅ›rednio w miejscu deklaracji zmiennej book.



for (const { title, author, rating } of books) {
  console.log(title);
  console.log(author);
  console.log(rating);
}


Destrukturyzacja parametrÃ³w



Podczas przekazywania obiektÃ³w do funkcji moÅ¼na zdestrukturyzowaÄ‡ te obiekty, 
aby uzyskaÄ‡ dostÄ™p do potrzebnych danych. Pozwala to jawnie okreÅ›liÄ‡, ktÃ³re
pola obiektu sÄ… uÅ¼ywane w funkcji.



Bez destrukturyzacji obiektu:

function printUserInfo(user) {
  console.log(`ImiÄ™: ${user.name}, Wiek: ${user.age}, Hobby: ${user.hobby}`);
}

printUserInfo({
	name: "Alice",
	age: 25,
	hobby: "taniec"
}); // ImiÄ™: Alice, Wiek: 25, Hobby: taniec



Z destrukturyzacjÄ… obiektu w ciele funkcji:



function printUserInfo(user) {
const { name, age, hobby } = user
  console.log(`ImiÄ™: ${name}, Wiek: ${age}, Hobby: ${hobby}`);
}

printUserInfo({
	name: "Alice",
	age: 25,
	hobby: "taniec"
}); // ImiÄ™: Alice, Wiek: 25, Hobby: taniec



Z destrukturyzacjÄ… obiektu w miejscu deklaracji parametrÃ³w:



function printUserInfo({ name, age, hobby }) {
  console.log(`Name: ${name}, Age: ${age}, Hobby: ${hobby}`);
}

printUserInfo({ 
	name: "Alice", 
	age: 25, 
	hobby: "dancing" 
}); // Name: Alice, Age: 25, Hobby: dancing

Wzorzec â€Parametry Obiektoweâ€



JeÅ›li funkcja przyjmuje wiÄ™cej niÅ¼ 2-3 parametry, Å‚atwo jest siÄ™ pogubiÄ‡ w
kolejnoÅ›ci i tym, co przekazywaÄ‡.



W rezultacie kod w miejscu jej wywoÅ‚ania staje siÄ™ bardzo niejasny.



function doStuffWithBook(title, pages, downloads, rating, isPublic) {
  // Operujemy na parametrach
  console.log(title);
  console.log(numberOfPages);
  // I tak dalej
}

// âŒ Co to jest 736? Co to jest 10283? Co to jest true?
doStuffWithBook("Ostatnie KrÃ³lestwo", 736, 10283, 8.38, true);



Wzorzec â€Parametry Obiektoweâ€ pomaga rozwiÄ…zaÄ‡ ten problem.

Zamiast zestawu parametrÃ³w uÅ¼ywa tylko jednego - obiektu z nazwanymi wÅ‚aÅ›ciwoÅ›ciami.



function doStuffWithBook(book) {
  // Operujemy na wÅ‚aÅ›ciwoÅ›ciach obiektu
  console.log(book.title);
  console.log(book.pages);
  // I tak dalej
}



W ten sposÃ³b, podczas jej wywoÅ‚ywania przekazujemy jeden obiekt z wymaganymi wÅ‚aÅ›ciwoÅ›ciami.



// âœ… Wszystko jest jasne
doStuffWithBook({
  title: "Ostatnie KrÃ³lestwo",
  pages: 736,
  downloads: 10283,
  rating: 8.38,
  isPublic: true,
});


KolejnÄ… zaletÄ… jest to, Å¼e moÅ¼na zdestrukturyzowaÄ‡ obiekt w parametrze book.

MoÅ¼na to zrobiÄ‡ zarÃ³wno w ciele funkcji...

function doStuffWithBook(book) {
  const { title, pages, downloads, rating, isPublic } = book;
  console.log(title);
  console.log(pages);
}



Jak i w sygnaturze funkcji - nie ma to znaczenia.



function doStuffWithBook({ title, pages, downloads, rating, isPublic }) {
  console.log(title);
  console.log(pages);
}


GÅ‚Ä™boka destrukturyzacja



NajczÄ™Å›ciej dane bÄ™dÄ… reprezentowane jako obiekty z wiÄ™cej niÅ¼ jednym poziomem zagnieÅ¼dÅ¼enia.



Na przykÅ‚ad, obiekt opisujÄ…cy uÅ¼ytkownika mediÃ³w spoÅ‚ecznoÅ›ciowych moÅ¼e wyglÄ…daÄ‡ nastÄ™pujÄ…co:



const user = {
  name: "Jacques Gluke",
  tag: "jgluke",
  stats: {
    followers: 5603,
    views: 4827,
    likes: 1308,
  },
};



Do destrukturyzacji wÅ‚aÅ›ciwoÅ›ci zagnieÅ¼dÅ¼onych obiektÃ³w stosuje siÄ™ te same 
zasady. Na poczÄ…tek napiszemy kod destrukturyzacji wÅ‚aÅ›ciwoÅ›ci obiektu uÅ¼ytkownika.



const user = {
  name: "Jacques Gluke",
  tag: "jgluke",
  stats: {
    followers: 5603,
    views: 4827,
    likes: 1308,
  },
};

const { name, tag, stats } = user;

console.log(name); // Jacques Gluke
console.log(tag); // jgluke
console.log(stats); // { followers: 5603, views: 4827, likes: 1308 }



Teraz dodajmy gÅ‚Ä™bokÄ… destrukturyzacjÄ™ wÅ‚aÅ›ciwoÅ›ci obiektu stats.

W tym celu po nazwie wÅ‚aÅ›ciwoÅ›ci w destrukturyzacji stawiamy dwukropki : i 
zaczynamy destrukturyzacjÄ™ obiektu dla tej wÅ‚aÅ›ciwoÅ›ci.



const user = {
  name: "Jacques Gluke",
  tag: "jgluke",
  stats: {
    followers: 5603,
    views: 4827,
    likes: 1308,
  },
};

const {
  name,
  tag,
  stats: { followers, views, likes },
} = user;

console.log(name); // Jacques Gluke
console.log(tag); // jgluke
console.log(followers); // 5603
console.log(views); // 4827
console.log(likes); // 1308



Podczas gÅ‚Ä™bokiej destrukturyzacji moÅ¼na rÃ³wnieÅ¼ zmieniaÄ‡ nazwy zmiennych i 
przypisywaÄ‡ wartoÅ›ci domyÅ›lne, korzystajÄ…c ze znajomego ci skÅ‚adni.



const user = {
  name: "Jacques Gluke",
  tag: "jgluke",
  stats: {
    followers: 5603,
    views: 4827,
    likes: 1308,
  },
};

const {
  name,
  tag,
  stats: { followers = 0, views: userViews = 0, likes: userLikes = 0 },
} = user;

console.log(name); // Jacques Gluke
console.log(tag); // jgluke
console.log(followers); // 5603
console.log(userViews); // 4827
console.log(userLikes); // 1308

Destrukturyzacja tablicy
SkÅ‚adnia



Destrukturyzowane przypisanie moÅ¼na stosowaÄ‡ nie tylko do obiektÃ³w, ale takÅ¼e do tablic, 
ale z pewnymi rÃ³Å¼nicami.



Zamiast nawiasÃ³w klamrowych {} uÅ¼ywane sÄ… nawiasy kwadratowe [].
Zmiennym zdefiniowanym w nawiasach kwadratowych [] zostanÄ… przypisane wartoÅ›ci kolejnych 
elementÃ³w tablicy.


Na przykÅ‚ad, mamy tablicÄ™ liczb. Chcemy uzyskaÄ‡ wartoÅ›ci kaÅ¼dej skÅ‚adowej koloru w 
osobnych zmiennych.



const color = [200, 255, 100];
const [ red, green, blue ] = color;

console.log(`rgb(${red}, ${green}, ${blue})`); // â€œrgb(200, 255, 100)"



Po sÅ‚owie kluczowym const lub let dodajemy nawiasy kwadratowe, podobnie jak w przypadku
 deklaracji tablicy. WewnÄ…trz nawiasÃ³w, oddzielajÄ…c przecinkami, podajemy nazwy zmiennych, 
 do ktÃ³rych zostanÄ… przypisane wartoÅ›ci odpowiednich elementÃ³w tablicy.



W wyniku takiego zapisu zostanÄ… utworzone 3 zmienne, a do nich zostanÄ… przypisane elementy
 w kolejnoÅ›ci numerowania: od 0 do koÅ„ca tablicy.

Wybierz poprawnÄ… skÅ‚adniÄ™ destrukturyzacji tablicy w zmiennej fruits

const { } = fruits
const fruits = [ ]
const [] = fruits
const fruits [ ]
Result

Åšwietnie!

WartoÅ›ci domyÅ›lne



JeÅ›li zmiennych jest wiÄ™cej niÅ¼ elementÃ³w w tablicy, zostanÄ… im przypisane wartoÅ›ci 
undefined. Aby temu zapobiec, moÅ¼na okreÅ›liÄ‡ wartoÅ›ci domyÅ›lne.

SkÅ‚adnia jest taka sama jak w przypadku obiektÃ³w, po nazwie zmiennej stawiamy = i 
wartoÅ›Ä‡ domyÅ›lna.



const color = [200, 100, 255];
const [ red, green, blue, alfa = 0.3 ] = color;

console.log(`rgba(${red}, ${green}, ${blue}, ${alfa})`); // â€œrgba(200, 100, 255, 0.3)"


Wybierz poprawnÄ… skÅ‚adniÄ™ dla przypisania ciÄ…gu znakÃ³w "A fruit" jako wartoÅ›ci
 domyÅ›lnej podczas destrukturyzacji tablicy fruits

const [ "A fruit" = firstFruit ] = fruits
const [ firstFruit = "A fruit" ] = fruits
const [ firstFruit: "A fruit" ] = fruits
const [ firstFruit, "A fruit" ] = fruits
Result

Åšwietnie!

CzÄ™Å›ciowa destrukturyzacja



Czasem z tablicy potrzebujemy zdekstrukturyzowaÄ‡ tylko pierwsze N elementÃ³w, a 
resztÄ™ zachowaÄ‡ w jednej zmiennej jako tablicÄ™.



DestrukturyzujÄ…c tablicÄ™, moÅ¼emy rozpakowaÄ‡ potrzebne elementy i przypisaÄ‡ 
resztÄ™ elementÃ³w tablicy do zmiennej, uÅ¼ywajÄ…c operatora ...rest.



const color = [200, 255, 100];

const [ red, ...otherColors ] = color;

console.log(red); // 200
console.log(otherColors); // [255, 100]



W ten sposÃ³b oryginalna tablica nie zostanie zmieniona, a w zmiennej 
otherColors pojawi siÄ™ nowa tablica z kopiami zebranych wartoÅ›ci.



Z obiektami rÃ³wnieÅ¼ dziaÅ‚a to samo. MoÅ¼emy zdekstrukturyzowaÄ‡ okreÅ›lone 
wÅ‚aÅ›ciwoÅ›ci do osobnych zmiennych, a resztÄ™ zebraÄ‡ w nowy obiekt.



const user = {
	name: "Jacob",
	age: 32,
	email: "j.cob@mail.com",
	isOnline: true
};

const { name, isOnline, ...otherProps } = user;

console.log(name); // "Jacob"
console.log(isOnline); // true
console.log(otherProps); // {age: 32, email: "j.cob@mail.com"}



W ten sposÃ³b oryginalny obiekt nie zostanie zmieniony, a w zmiennej otherProps 
pojawi siÄ™ nowy obiekt z kopiami zebranych wÅ‚aÅ›ciwoÅ›ci.

Pomijanie wartoÅ›ci



W przeciwieÅ„stwie do nazwanych wÅ‚aÅ›ciwoÅ›ci obiektu, elementy tablicy sÄ… zbiorem 
zindeksowanych wartoÅ›ci. JeÅ›li chcesz zdekstrukturyzowaÄ‡ tylko na przykÅ‚ad trzeci 
element, pierwsze dwa naleÅ¼y pominÄ…Ä‡.



ZaÅ‚Ã³Å¼my, Å¼e z tablicy color chcesz wziÄ…Ä‡ tylko ostatniÄ… wartoÅ›Ä‡. W destrukturyzacji 
naleÅ¼y oddzieliÄ‡ przecinkami pomijane elementy.



const rgb = [200, 100, 255];

const [, , blue] = rgb;

console.log(`Niebieski: ${blue}`); // "Niebieski: 255"



W praktyce ta moÅ¼liwoÅ›Ä‡ jest rzadko uÅ¼ywana w tablicach, ale dobrze wiedzieÄ‡,
Å¼e taka opcja istnieje.

Destrukcja parametrÃ³w



Podczas przekazywania tablicy do funkcji moÅ¼na zdekstrukturyzowaÄ‡ jej elementy.

Bez destrukturyzacji:



function printFruits(fruits) {
  console.log(fruits[0], fruits[1], fruits[2]);
}

printFruits(["jabÅ‚ko", "banan", "pomaraÅ„cza"]); // "jabÅ‚ko banan pomaraÅ„cza"



Z destrukturyzacjÄ… w miejscu deklaracji parametrÃ³w:



function printFruits([pierwszyOwoc, drugiOwoc, trzeciOwoc]) {
  console.log(pierwszyOwoc, drugiOwoc, trzeciOwoc);
}

printFruits(["jabÅ‚ko", "banan", "pomaraÅ„cza"]); // "jabÅ‚ko banan pomaraÅ„cza"



W ten sposÃ³b moÅ¼na od razu przypisaÄ‡ elementy tablicy do osobnych zmiennych 
podczas deklaracji funkcji.



function printFruits([firstFruit, secondFruit, thirdFruit]) {
  console.log(firstFruit, secondFruit, thirdFruit);
}

printFruits(["apple", "banana", "orange"]); // "apple banana orange"




Zalety destrukturyzacji



PrzejdÅºmy przez zalety destrukturyzacji:

Wygodne wyodrÄ™bnianie wartoÅ›ci z obiektÃ³w i tablic: Zamiast ciÄ…gÅ‚ego odwoÅ‚ywania
siÄ™ do pÃ³l obiektu lub elementÃ³w tablicy za ich indeksami lub nazwami, moÅ¼na od
razu wyciÄ…gnÄ…Ä‡ potrzebne wartoÅ›ci do zmiennych.KrÃ³tki i czytelny kod: Destrukturyzacja 
sprawia, Å¼e kod jest krÃ³tszy i bardziej zrozumiaÅ‚y. Zamiast dÅ‚ugich wyraÅ¼eÅ„ dostÄ™pu 
do pÃ³l obiektÃ³w lub elementÃ³w tablicy, moÅ¼na od razu przypisaÄ‡ wartoÅ›ci do 
zmiennych o zrozumiaÅ‚ych nazwach. Parametry funkcji: Podczas przekazywania 
obiektÃ³w do funkcji moÅ¼na zdekstrukturyzowaÄ‡ te obiekty, aby uzyskaÄ‡ dostÄ™p 
do potrzebnych danych. Pozwala to jasno okreÅ›liÄ‡, jakie pola obiektu sÄ… uÅ¼ywane 
w funkcji. Praca z funkcjami zwracajÄ…cymi obiekty: JeÅ›li funkcja zwraca obiekt, 
moÅ¼na od razu zdekstrukturyzowaÄ‡ ten obiekt, aby wyciÄ…gnÄ…Ä‡ z niego wartoÅ›ci.

Dwie trzecie kursu JavaScript zostaÅ‚o przebyte â€” tak trzymaÄ‡! ğŸ’ª

Chwila odpoczynku, zanim przejdziemy dalej, aby przeanalizowaÄ‡, jakie waÅ¼ne tematy zostaÅ‚y omÃ³wione w module 8.



Po przyswojeniu materiaÅ‚Ã³w teoretycznych, wiesz juÅ¼:

jakie sÄ… etapy cyklu Å¼ycia zdarzenia i rozumiesz, co to jest zdarzenie wypÅ‚ywajÄ…ce,
potrafisz okreÅ›liÄ‡, gdzie wystÄ…piÅ‚o zdarzenie i zatrzymaÄ‡ jego propagacjÄ™,
jak wykorzystywaÄ‡ wzorce podczas pracy z zdarzeniami (rozprzestrzenianie, delegowanie zdarzeÅ„),
znasz podstawowe cechy bibliotek i potrafisz je podÅ‚Ä…czaÄ‡,
czym jest destrukturyzacja,
masz pojÄ™cie, jak uÅ¼ywaÄ‡ wzorca "Obiekt parametrÃ³w",
potrafisz destrukturyzowaÄ‡ obiekty i tablice.


NadszedÅ‚ czas, aby wykorzystaÄ‡ tÄ™ wiedzÄ™ w praktyce!



Zadanie domowe nr 8

UtwÃ³rz repozytorium goit-js-hw-08.
Zadanie wykonuj w plikach gallery.js i index.html.
Zapoznaj siÄ™ z treÅ›ciÄ… zadania i wykonaj je w edytorze kodu.
Upewnij siÄ™, Å¼e kod jest sformatowany za pomocÄ… Prettier, a w konsoli nie ma bÅ‚Ä™dÃ³w ani ostrzeÅ¼eÅ„ podczas otwierania strony z zadaniem.
PrzeÅ›lij zadanie do sprawdzenia.


Format przekazania: Praca domowa zawiera dwa linki: do plikÃ³w ÅºrÃ³dÅ‚owych i strony roboczej na GitHub Pages.

Do stylizacji ukÅ‚adu twoich zadaÅ„ uÅ¼yj tego szablonu.


Zadanie â€” Galeria obrazkÃ³w

UtwÃ³rz galeriÄ™ z moÅ¼liwoÅ›ciÄ… klikniÄ™cia w jej elementy i przeglÄ…dania obrazu w peÅ‚nym rozmiarze w oknie modalnym. Zobacz demonstracyjne wideo dziaÅ‚ania galerii.



Tworzenie galerii to zÅ‚oÅ¼one zadanie, ktÃ³re lepiej podzieliÄ‡ na kilka prostszych podzadaÅ„, wykonujÄ…c kaÅ¼de z nich, zbliÅ¼asz siÄ™ do koÅ„cowego celu. Ten proces nazywa siÄ™ dekompozycjÄ… zadania.



1 - UkÅ‚ad galerii

Logiczne jest zaczÄ…Ä‡ od stworzenia miejsca, do ktÃ³rego bÄ™dziemy dodawaÄ‡ elementy galerii. W tym celu w kodzie HTML dodaj kontener galerii - nieuporzÄ…dkowanÄ… listÄ™ z klasÄ… gallery.



<ul class="gallery"></ul>




2 - Tablica obrazÃ³w

Do stworzenia elementÃ³w galerii bÄ™dziesz potrzebowaÄ‡ danych. Dodaj ten tablicÄ™ obiektÃ³w do swojego pliku JavaScript. KaÅ¼dy obiekt reprezentuje jeden element galerii.

preview â€” link do maÅ‚ej wersji obrazu dla karty galerii
original â€” link do duÅ¼ej wersji obrazu dla okna modalnego
description â€” opis tekstowy obrazu, dla atrybutu alt maÅ‚ego obrazu i podpisu duÅ¼ego obrazu w oknie modalnym.
const images = [
  {
    preview:
      'https://cdn.pixabay.com/photo/2019/05/14/16/43/rchids-4202820__480.jpg',
    original:
      'https://cdn.pixabay.com/photo/2019/05/14/16/43/rchids-4202820_1280.jpg',
    description: 'Hokkaido Flower',
  },
  {
    preview:
      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',
    original:
      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',
    description: 'Container Haulage Freight',
  },
  {
    preview:
      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',
    original:
      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',
    description: 'Aerial Beach View',
  },
  {
    preview:
      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',
    original:
      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',
    description: 'Flower Blooms',
  },
  {
    preview:
      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',
    original:
      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',
    description: 'Alpine Mountains',
  },
  {
    preview:
      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',
    original:
      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',
    description: 'Mountain Lake Sailing',
  },
  {
    preview:
      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',
    original:
      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',
    description: 'Alpine Spring Meadows',
  },
  {
    preview:
      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',
    original:
      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',
    description: 'Nature Landscape',
  },
  {
    preview:
      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',
    original:
      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',
    description: 'Lighthouse Coast Sea',
  },
];




3 - UkÅ‚ad elementÃ³w galerii

Masz juÅ¼ kontener, do ktÃ³rego moÅ¼na dodawaÄ‡ elementy galerii, i dane, za pomocÄ… ktÃ³rych je stworzyÄ‡. Teraz czas wypeÅ‚niÄ‡ galeriÄ™ ukÅ‚adem.

UÅ¼yj tablicy obiektÃ³w images i tego szablonu HTML elementu galerii, a nastÄ™pnie stwÃ³rz ukÅ‚ad elementÃ³w w kodzie JavaScript, a nastÄ™pnie dodaj caÅ‚y ukÅ‚ad do ul.gallery. Nie dodawaj innych tagÃ³w HTML poza tymi, ktÃ³re sÄ… zawarte w tym szablonie.

<li class="gallery-item">
  <a class="gallery-link" href="large-image.jpg">
    <img
      class="gallery-image"
      src="small-image.jpg"
      data-source="large-image.jpg"
      alt="Image description"
    />
  </a>
</li>


W atrybucie src tagu <img> podaj link do maÅ‚ej wersji obrazu.
Dla atrybutu alt uÅ¼yj opisu obrazu.
Link do duÅ¼ego obrazu powinien byÄ‡ przechowywany w atrybucie danych source na elemencie <img>, a adres powinien byÄ‡ podany w atrybucie href.
ZwrÃ³Ä‡ uwagÄ™, Å¼e obraz jest opakowany w link, ktÃ³rego atrybut href wskazuje na Å›cieÅ¼kÄ™ do pliku z obrazem. KlikniÄ™cie w ten link moÅ¼e spowodowaÄ‡ pobranie obrazu na komputer uÅ¼ytkownika. Zablokuj to zachowanie domyÅ›lnie.


4 - Style

Dodaj stylizacjÄ™ galerii zgodnie z projektem.



5 - Delegacja

NadszedÅ‚ czas, aby dodaÄ‡ funkcjonalnoÅ›Ä‡ nasÅ‚uchiwania klikniÄ™Ä‡ na elementach galerii i uzyskiwania linku do duÅ¼ego obrazu po klikniÄ™ciu. UÅ¼yj techniki delegacji na ul.gallery. Na razie po klikniÄ™ciu na element galerii wyÅ›wietl adres do duÅ¼ego obrazu w konsoli.



6 - PodÅ‚Ä…czenie biblioteki

Biblioteka basicLightbox zapewnia w peÅ‚ni funkcjonalne okno modalne, ktÃ³re doskonale nadaje siÄ™ do naszego zadania. UÅ¼yj serwisu CDN jsdelivr i dodaj w pliku HTML linki do zminifikowanych plikÃ³w JS i CSS biblioteki.



7 - Okno modalne

Rozszerz swÃ³j kod tak, aby po klikniÄ™ciu na element galerii otwieraÅ‚o siÄ™ okno modalne podÅ‚Ä…czonej biblioteki. Aby dowiedzieÄ‡ siÄ™, jak zainicjowaÄ‡ okno modalne w swoim kodzie i jak z niego korzystaÄ‡, zapoznaj siÄ™ z dokumentacjÄ… i przykÅ‚adami.



8 - DuÅ¼y obraz

Wykorzystaj swÃ³j kod uzyskiwania linku do duÅ¼ego obrazu, aby zmieniÄ‡ wartoÅ›Ä‡ atrybutu src elementu <img> w oknie modalnym przed otwarciem. UÅ¼yj gotowego ukÅ‚adu okna modalnego z obrazem z przykÅ‚adÃ³w biblioteki basicLightbox.



9 - ZamkniÄ™cie za pomocÄ… klawiatury

Dodaj funkcjonalnoÅ›Ä‡ zamykania okna modalnego po naciÅ›niÄ™ciu klawisza Escape. Upewnij siÄ™, Å¼e nasÅ‚uchiwanie klawiatury zachodzi tylko wtedy, gdy otwarte jest okno modalne. Biblioteka basicLightbox zawiera metodÄ™ do programowego zamykania okna modalnego.



Na co zwrÃ³ci uwagÄ™ mentor podczas sprawdzania:

Galeria obrazÃ³w jest wyÅ›wietlana na Å¼ywo na stronie z danymi z tablicy images.
Galeria obrazÃ³w jest stylizowana zgodnie z projektem.
Dane dla galerii sÄ… generowane dynamicznie w JS.
Podczas nasÅ‚uchiwania klikniÄ™Ä‡ na elementach galerii zastosowano technikÄ™ delegacji.
Po klikniÄ™ciu miÄ™dzy elementami galerii nie dzieje siÄ™ nic.
PodÅ‚Ä…czono bibliotekÄ™ basicLightbox.
Po klikniÄ™ciu na element galerii otwiera siÄ™ okno modalne podÅ‚Ä…czonej biblioteki, zawierajÄ…ce powiÄ™kszonÄ… wersjÄ™ klikniÄ™tego obrazu.
Zaimplementowano funkcjonalnoÅ›Ä‡ zamykania okna modalnego po naciÅ›niÄ™ciu klawisza Escape.
NasÅ‚uchiwanie klawiatury zachodzi tylko wtedy, gdy otwarte jest okno modalne.